---
layout: post
title:  "Как выбрать диаграмму и не облажаться"
date:   2019-11-06 23:00:00 +0300
categories: jekyll update
---
Существует множество диаграмм, которые отличаются друг от друга по принципу построения или наличию в инструментах визуализации данных. Диаграмма — это схематическое изображение,  в основе которого геометрические примитивы размер и положение которых зависит от  численных данных — результатов измерений, анализа или опросов. Диаграммы можно построить автоматически, для этого нужно знать, какой инструмент использовать. Это кажется простой задачей, но выбор типа диаграммы зависит от имеющихся данных и от правил оформления диаграмм. Эта задача оказалась настолько сложной, что появились шпаргалки для профессионалов в виде постеров или специальных онлайн-сервисов.

Возьмём в качестве примера, вот эту визуализацию: на карте России каждая красная точка — это одно дорожно-транспортное происшествие в 2017 году. Кажется, что это точная и честная визуализация, но на самом деле плотность событий на этой карте дублирует плотность автомобильных дорог, что в свою очередь повторяет карту плотности населения страны. На этой карте Москва кажется самым опасным местом для автомобилистов, а восточной части ДТП почти незаметны. Но если мы пересчитаем статистику, вычислим сколько происшествий приходится на сто тысяч человек, живущих в данной области, то у Москвы окажется низкое значение, а в Республике Тыва показатель будет самым высоким.

Когда дизайнер выбирает тип диаграммы ему приходится выбирать будет ли это столбчатая диаграмма или линейный график. Будет ли это рейтинг, с метками на карте или таблица с цветными ячейками, которые расположены по географическому признаку.

Не все диаграммы есть в стандартном наборе распространённых программ. Например, визуализации с помощью пиктограмм до сих пор сделать непросто.

И наоборот: есть виды визуализаций, которые сегодня можно делать с помощью самых популярных программ. Эта таблица рейтинга сделана в текстовом редакторе. При сжатых сроках появилось две версии: минималистичная и цветная. Было принято решение, что цвет в данной визуализации лишний.

Такие диаграммы называются круговыми или ещё известно шутливое название pichart, так как изображение похоже на пирог, который пытаются нарезать на фрагменты. Кажется, что в этом пироге большой кусок красный, но это обман зрения. Зелёный фрагмент больше, его расположение приводит к деформации формы. Размер красному фрагменту придаёт толщина ближнего к нам края пирога. Разве это справедливо? Нас обманули! Современные инструменты визуализаций данных, к сожалению, часто соблазняют нас возможностью преувеличить те или иные значения за счёт оптических иллюзий. В результате, люди принимают катастрофические решения.

Давайте разберёмся, какие визуализации можно было бы удалить из популярной компьютерной программы.

# Столбчатые диаграммы.

В столбчатых диаграммах и гистограммах лучше не использовать объём и перспективу. Столбчатая диаграмма подходящая графическая метафора объектов разной высоты, если речь идёт от разных странах, персонах или измерений с большим шагом во времени (раз в год, например). Я не рекомендую использовать столбчатую диаграмму для нескольких рядов —столбики перемешиваются между собой.

# Линейный график.

В линейном графике нельзя строить накопление и применять объём. Линейный график это траектория движения переменной.  Сравнивать две или три траектории между собой удобно, но это становится всё сложнее по мере того, как растёт количество рядов.

## Круговая диаграмма.

В круговой диаграмме объём под строгим запретом. Это подходящий способ публиковать результаты статистических значений, которые в сумме складываются в 100%. Если сравниваемых значений слишком много, то круговая диаграмма превращается в веер множества сегментов. Это бессмысленная визуализация, которая не несёт никакого смысла. В такой ситуации я рекомендую использовать столбики или линейки.

# Линейчатые диаграммы.

К линейчатым диаграммам применимы те же требования, что к столбчатым. Это подходящий способ визуализации, когда подписи категорий в столбчатой диаграмме слишком длинные и поворачиваются на 45 градусов или даже 90. Такие подписи сложно читать.  В линейчатом графике категории становятся горизонтальными. Это рекомендуемый вид визуализации для рейтингов.

# Площадная диаграмма.

Площадная диаграмма позволяет увидеть множество значений ряда как ландшафт. Мы можем оценить не только экстремумы значений, но и общий объём накоплений. Если у нас несколько рядов, то используйте накопление. Не допускайте ситуации, когда одна площадь диаграммы перекрывает и делает невидимой другую.

У столбчатых, линейных и площадных графиков есть варианты случаев множества рядов, которые называются накопительными. Накопление может быть нормированным, но тогда это нужно обязательно объяснить. Ещё одно правило для этих трёх типов диаграмм — вертикальная ось Y всегда должна содержать нулевое значение. В этих типах визуализации масштабирование фрагмента по высоте недопустимо. Если хотите усилить контраст колебаний значений используйте линейный график или точечную диаграмму.

# Точечная диаграмма.

Точечная диаграмма — мать всех диаграмм. По сути, столбики и линейки — это проекции от точек в прямоугольной системе координат. Круговая диаграмма это частный случай столбчатой диаграммы в радиальной системе координат. Точечная диаграмма при умелом использовании может показать с помощью положения, цвета, формы, размера и анимации до 7 измерений переменной. Одно предупреждение: даже два измерения бывает непросто объяснить, так что старайтесь не перегибать палку и исходить из здравого смысла.